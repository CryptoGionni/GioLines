CREATE TABLE Impiegato (
    id IDENTITY,
    password VARCHAR(255)
);

CREATE TABLE Biglietto(
    numeroBiglietto IDENTITY,
    idImpiegato SMALLINT,
    oraEmissione TIME,
    dataEmissione DATE,
    presenzaBagaglio BOOLEAN,
    FOREIGN KEY(idImpiegato) REFERENCES Impiegato(id)
);

CREATE TABLE Corsa(
    id IDENTITY,
    dataPartenza DATE,
    orarioPartenza TIME,
    orarioArrivo TIME,
    prezzoBiglietto FLOAT(2)
);

CREATE TABLE Autobus(
    idCorsa SMALLINT PRIMARY KEY,
    sediliOccupati SMALLINT,
    bagagliOccupati SMALLINT,
    sediliMax SMALLINT,
    bagagliMax SMALLINT,
    DIMENSIONEBAGAGLIOH FLOAT(2), 
    DIMENSIONEBAGAGLIOL FLOAT(2), 
    DIMENSIONEBAGAGLIOD FLOAT(2),
    FOREIGN KEY(idCorsa) REFERENCES Corsa(id)
);

CREATE TABLE Tratta(
    idCorsa SMALLINT PRIMARY KEY,
    cittàPartenza VARCHAR(255),
    cittàArrivo VARCHAR(255),
    FOREIGN KEY(idCorsa) REFERENCES Corsa(id)
);

##########################################

SELECT * FROM AUTOBUS;
SELECT * FROM TRATTA;
SELECT * FROM CORSA;

SELECT * FROM BIGLIETTO;
INSERT INTO BIGLIETTO(IDIMPIEGATO ,ORAEMISSIONE , DATAEMISSIONE , PRESENZABAGAGLIO)  VALUES (1,now(),now(),1);
SELECT * FROM BIGLIETTO;

SELECT * FROM AUTOBUS;
INSERT INTO AUTOBUS(IDCORSA ,SEDILIOCCUPATI ,BAGAGLIOCCUPATI ,SEDILIMAX ,BAGAGLIMAX ,DIMENSIONEBAGAGLIOH ,DIMENSIONEBAGAGLIOL ,DIMENSIONEBAGAGLIOD )
VALUES(2,0,0,50,50,30,30,30);
SELECT * FROM AUTOBUS;

SELECT * FROM CORSA;
@loop 10 INSERT INTO CORSA(DATAPARTENZA, ORARIOPARTENZA, ORARIOARRIVO, PREZZOBIGLIETTO) VALUES (now(), now(), now(), 10.42);
SELECT * FROM CORSA;

SELECT * FROM TRATTA ;
INSERT INTO TRATTA (IDCORSA, CITTÀPARTENZA, CITTÀARRIVO) VALUES(1, 'NAPOLI', 'ROMA');
SELECT * FROM TRATTA ;